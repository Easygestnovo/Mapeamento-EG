<!DOCTYPE html>
<html lang="pt">
<head>
<script>
  const correctPassword = "easygest2024";
  let granted = false;
  while (!granted) {
    const pass = prompt("Por favor, introduza a password de acesso:");
    if (pass === correctPassword) {
      granted = true;
    } else {
      alert("Password incorreta. Tente novamente.");
    }
  }
</script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mapeamento de Referências</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: 40px auto; padding: 20px; }
    img.logo { max-width: 180px; display: block; margin: 0 auto 20px; }
    input { width: 100%; padding: 10px; font-size: 16px; margin-top: 10px; margin-bottom: 20px; }
    .card { border: 1px solid #ccc; border-radius: 8px; padding: 20px; background-color: #f9f9f9; }
    .label { font-weight: bold; margin-top: 10px; }
    .error { color: red; font-size: 14px; }
  </style>
</head>
<body>
  <img src="logo_easygest.jpg" alt="EasyGest" class="logo" />
  <h1>Mapeamento de Referências</h1>
  <label for="ref">Referência do Imóvel:</label>
  <input type="text" id="ref" placeholder="Ex: EG123RF" oninput="checkReference()" />

  <div id="result"></div>

  <script>
    const data = [
      { prefix: "EG***RF", loja: "HUB - Equipa Ruben Ferreira", responsavel: "Angariador", inactivo: "Ruben Ferreira", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Ruben Ferreira", editar: "Coordenacao Geral EasyGest;Gestao João Costa ;Equipa Ruben Ferreira;Loja EasyHub Seixal;Service Desk", observacoes: "", contacto: "" },
      { prefix: "HM***MG", loja: "HUB - Equipa Miguel Gomes", responsavel: "Angariador", inactivo: "Miguel Gomes", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Miguel Gomes", editar: "Coordenacao Geral EasyGest;Gestao João Costa ;Equipa Miguel Gomes;Loja EasyHub Seixal;Service Desk", observacoes: "", contacto: "" },
      { prefix: "HQ***", loja: "HUB - Equipa Imoveis HQ", responsavel: "Angariador", inactivo: "", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Imoveis HQ", editar: "Coordenacao Geral EasyGest;Gestao João Costa ;Equipa Imoveis HQ;Loja EasyHub Seixal;Service Desk", observacoes: "", contacto: "" },
      { prefix: "AZ***FR", loja: "Equipa Fernando Rocha", responsavel: "Angariador", inactivo: "Fernando Rocha", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Fernando Rocha", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Fernando Rocha;Loja Açores;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10:00-19:00  Sáb 10:00-13:00 (Horário Açores )" },
      { prefix: "AZ***MS", loja: "Equipa Manuel Silva", responsavel: "Angariador", inactivo: "Manuel Silva", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Manuel Silva", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Manuel Silva;Loja Açores;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10:00-19:00  Sáb 10:00-13:00 (Horário Açores )" },
      { prefix: "AZ***DA", loja: "Equipa Deolinda Alves", responsavel: "Angariador", inactivo: "Deolinda Alves", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Deolinda Alves", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Deolinda Alves;Loja Açores;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10:00-19:00  Sáb 10:00-13:00 (Horário Açores )" },
      { prefix: "CB***MA", loja: "Equipa Mário Angelo", responsavel: "Angariador", inactivo: "Mario Angelo", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Mário Angelo", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Mário Angelo;Loja Castelo Branco;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "Bancos e Fundos - Atribuir ao DC Mário Angelo", contacto: "2ª a 6ª 10:00-18:00 Sáb 10:00-13:00" },
      { prefix: "GD***FM", loja: "Equipa Filipe Monteiro", responsavel: "Angariador", inactivo: "Filipe Monteiro", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Filipe Monteiro", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Filipe Monteiro;Loja Guarda;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª  0900-13:00 e 15:00 -19:00  Sáb 09h -13h" },
      { prefix: "BG***MG", loja: "Equipa Mogadouro", responsavel: "Angariador", inactivo: "Sónia Pisco", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Mogadouro", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Mogadouro;Loja Bragança;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "" },
      { prefix: "BG***TM", loja: "Equipa Moncorvo", responsavel: "Angariador", inactivo: "Paulo Antunes", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Moncorvo", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Moncorvo;Loja Bragança;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "" },
      { prefix: "LA***RQ", loja: "Equipa Ricardo Querido", responsavel: "Angariador", inactivo: "Equipa Ricardo Querido", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Ricardo Querido", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Ricardo Querido;Loja Lourinhã;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10:00-19:00 Sáb 10:00-13:00" },
      { prefix: "OD***BF", loja: "Equipa Bruno Freitas", responsavel: "Angariador", inactivo: "Bruno Freitas", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Bruno Freitas", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Bruno Freitas;Loja Odivelas;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "" },
      { prefix: "MM***MC", loja: "Equipa Manuela Conceição", responsavel: "Angariador", inactivo: "Manuela Conceição", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Manuela Conceição", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Manuela Conceição;Loja Mem Martins;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "" },
      { prefix: "MF***PA", loja: "Equipa Paula Amaral", responsavel: "Angariador", inactivo: "Paula Amaral", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Paula Amaral", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Paula Amaral;Loja Mafra;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª  10:00-13:00 e 14:00 -19:00  Sáb 09h -13h" },
      { prefix: "LA***NN", loja: "Equipa Nicole Nunes", responsavel: "Angariador", inactivo: "Nicole Nunes", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Nicole Nunes", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Nicole Nunes;Loja Lourinhã;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "" },
      { prefix: "OR***VJ", loja: "Equipa Vanessa Justi", responsavel: "Angariador", inactivo: "Vanessa Justi", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Vanessa Justi", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Vanessa Justi;Loja Oeiras;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10:00-19:00  Sáb 10:00-13:00" },
      { prefix: "OR***EW", loja: "Equipa EasyWay", responsavel: "Angariador", inactivo: "Carina Salgueiro", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa EasyWay", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa EasyWay;Loja Oeiras;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10:00-19:00  Sáb 10:00-13:00" },
      { prefix: "OR***YT", loja: "Equipa Yetu", responsavel: "Angariador", inactivo: "Anunciação Gama", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Yetu", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Yetu;Loja Oeiras;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10:00-19:00  Sáb 10:00-13:00" },
      { prefix: "OR***RT", loja: "Equipa Rui Teixeira", responsavel: "Angariador", inactivo: "Rui Teixeira", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Rui Teixeira", editar: "Coordenacao Geral EasyGest;Gestao Nuno Marques;Equipa Rui Teixeira;Loja Oeiras;Carina Salgueiro - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10:00-19:00  Sáb 10:00-13:00" },
      { prefix: "TM***", loja: "Loja Tomar", responsavel: "Cesaltina Eloi Rodrigues", inactivo: "Cesaltina Eloi Rodrigues", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Loja Tomar", editar: "Coordenacao Geral EasyGest;Gestao Jorge Gil e Pedro Barata; Loja Tomar; Service Desk", observacoes: "Imovéis Nuno Mano, atribuir á Cesaltina (tudo o que seja de antigos consultores da loja de Santarém) Eduardo Parreira,Imovéis Eduardo Parreira, atribuir diretamente ao consultor", contacto: "2ª a 6ª 09:30-13:00 e 14:30-19:00 Sáb 09.30-13:00" },
      { prefix: "BJ***", loja: "Loja Beja", responsavel: "Francisco Fernandes", inactivo: "Francisco Fernandes", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Loja Beja", editar: "Coordenacao Geral EasyGest;Gestao Jorge Gil e Pedro Barata; Loja Beja; Service Desk", observacoes: "", contacto: "2ª a 6ª 09:30-13:00 e 14:00-19:00 Sáb 10.00-13:00" },
      { prefix: "BJ***AJ", loja: "Loja Aljustrel", responsavel: "Francisco Fernandes", inactivo: "Francisco Fernandes", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Loja Aljustrel", editar: "Coordenacao Geral EasyGest;Gestao Jorge Gil e Pedro Barata; Loja Aljustrel; Service Desk", observacoes: "", contacto: "2ª a 6ª 09:30-13:00 e 14:00-19:00 Sáb 10.00-13:00" },
      { prefix: "LX***", loja: "Loja Laranjeiras", responsavel: "Bruno Rodrigues", inactivo: "Bruno Rodrigues", exclusivo: "Angariador", aberto: "Angariador", nao_atende: "Loja", equipa: "Loja Laranjeiras", editar: "Coordenacao Geral EasyGest;Gestao Bruno Rodrigues; Loja Laranjeiras; Service Desk", observacoes: "", contacto: "2ª a 6ª 09:30 - 19:00 Sáb 10:00 as 13:00" },
      { prefix: "GR***", loja: "Loja Graca", responsavel: "Domingos Santos", inactivo: "Domingos Santos", exclusivo: "Angariador", aberto: "Angariador", nao_atende: "Domingos Santos", equipa: "Loja Graca", editar: "Coordenacao Geral EasyGest;Gestao Bruno Rodrigues; Loja Graca; Service Desk", observacoes: "", contacto: "2ª a 6ª das 9:30h - 13h e 14:30h – 19:00h Sáb 9:30h - 13h " },
      { prefix: "ST***AC", loja: "Equipa Ana Cristina", responsavel: "Ana Cristina", inactivo: "Ana Cristina", exclusivo: "Angariador", aberto: "Angariador", nao_atende: "Loja", equipa: "Equipa Ana Cristina", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Equipa Ana Cristina;Loja Setúbal;Sandra Matos - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 09:30-18:30 Sáb 10:00-13:00" },
      { prefix: "ST***EP", loja: "Equipa Povoa de Sta Iria ", responsavel: "Sandra Matos", inactivo: "Sandra Matos", exclusivo: "Angariador", aberto: "Angariador", nao_atende: "Sandra Matos", equipa: "Equipa Povoa de Sta Iria ", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Equipa Povoa de Sta Iria ;Loja Setúbal;Sandra Matos - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10h às 19h  Sáb 10h às 17h" },
      { prefix: "ST***EC", loja: "Equipa Charneca Da Caparica", responsavel: "Sandra Matos", inactivo: "Sandra Matos", exclusivo: "Angariador", aberto: "Angariador", nao_atende: "Sandra Matos", equipa: "Equipa Charneca Da Caparica", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Equipa Charneca Da Caparica;Loja Setúbal;Sandra Matos - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10h às 19h  Sáb 10h às 13h" },
      { prefix: "ST***SM", loja: "Equipa Sandra Modesto", responsavel: "Angariador", inactivo: "Sandra Modesto", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Sandra Modesto", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Equipa Equipa Sandra Modesto;Loja Setúbal;Sandra Matos - Diretora Regional;Service Desk", observacoes: "", contacto: "" },
      { prefix: "PN***PN", loja: "Loja Pinhal Novo", responsavel: "Antonieta Martins", inactivo: "Antonieta Martins", exclusivo: "Angariador", aberto: "Loja", nao_atende: "Antonieta Martins", equipa: "Loja Pinhal Novo", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Loja Pinhal Novo;Yuri Costinha - Diretora Regional;Service Desk", observacoes: "Imoveis angariados por Anabela Almeida no Montijo (antigos) independentemente de exclusivo ou Aberto é tudo para ela, Exclusivos da Antonieta -Yuri Costinha", contacto: "2ª a 6ª 10:00-13:00 e 14:30-19:00 Sáb 10:00-13:00 e 14:30-18:00" },
      { prefix: "PN***ES", loja: "Equipa Sombras", responsavel: "Angariador", inactivo: "Yuri Costinha", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Sombras", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Equipa Sombras;Loja Pinhal Novo;Yuri Costinha - Diretora Regional;Service Desk", observacoes: "", contacto: "2ª a 6ª 10:00-13:00 e 14:30-19:00 Sáb 10:00-13:00 e 14:30-18:00" },
      { prefix: "PF***JT", loja: "Equipa Jorge Tavares", responsavel: "Angariador", inactivo: "Jorge Tavares", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Não Aplicável", equipa: "Equipa Jorge Tavares", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Equipa Jorge Tavares;Loja Paulo Fonseca;Paulo Fonseca - Diretor Coordenador;Service Desk", observacoes: "", contacto: "" },
      { prefix: "RR***", loja: "Equipa Coimbra", responsavel: "Jose Rodrigues", inactivo: "Jose Rodrigues", exclusivo: "Angariador", aberto: "Angariador", nao_atende: "Loja", equipa: "Equipa Coimbra", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Joana Marques - Diretora Coordenadora;Equipa Coimbra;Loja Coimbra;Service Desk", observacoes: "Angariações em Tábua passar só para o angariador", contacto: "2ª a 6ª 09h ás 20h Sáb 10h-19h" },
      { prefix: "EA***", loja: "Loja Aveiro", responsavel: "Diana Marques", inactivo: "Diana Marques", exclusivo: "Angariador", aberto: "Angariador", nao_atende: "Diana Marques", equipa: "Loja Aveiro", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Joana Marques - Diretora Coordenadora;Loja Aveiro;Service Desk", observacoes: "", contacto: "2ª a 6ª 09h ás 20h Sáb 10h-19h" },
      { prefix: "VS***", loja: "Equipa Viseu", responsavel: "Liliana Duarte", inactivo: "Liliana Duarte", exclusivo: "Angariador", aberto: "Angariador", nao_atende: "Liliana Duarte", equipa: "Equipa Viseu", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Joana Marques - Diretora Coordenadora;Equipa Viseu;Loja Coimbra;Service Desk", observacoes: "", contacto: "2ª a 6ª 09h ás 20h Sáb 10h-19h" },
      { prefix: "LE***NZ", loja: "Loja Nazaré", responsavel: "Vera Vieira", inactivo: "Vera Vieira", exclusivo: "Angariador", aberto: "Angariador", nao_atende: "Loja", equipa: "Loja Nazaré", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Loja Nazaré;Vitor Silva - Diretor Regional;Service Desk", observacoes: "Imoveis de Banco e Fundo, 1º loja e 2º Vera Vieira; Caso o cliente esteja ativo no sistema e a Oportunidade tenha sido atualizada há menos de um mês, a nova oportunidade deverá ser atribuída ao mesmo consultor que acompanha o cliente, independentemente de o imóvel ser exclusivo ou não e pertencer a outro angariador. Nota : Esta regra aplica-se apenas a Imóveis da Gestão Leiria e Nazaré. Se a Oportunidade estiver desatualizada há mais de um mês, a oportunidade deverá ser direcionada ao angariador do imóvel.", contacto: "2ª a 6ª 10:00-13:00 e 14:00-19:00 Sáb 10:00-13:00 e 14:00-19:00" },
      { prefix: "LE***LE", loja: "Loja Leiria", responsavel: "Vera Vieira", inactivo: "Loja", exclusivo: "Angariador", aberto: "Angariador", nao_atende: "Loja", equipa: "Loja Leiria", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Loja Leiria;Vitor Silva - Diretor Regional;Service Desk", observacoes: "Imoveis de Banco e Fundo, 1º loja e 2º Vera Vieira; Caso o cliente esteja ativo no sistema e a Oportunidade tenha sido atualizada há menos de um mês, a nova oportunidade deverá ser atribuída ao mesmo consultor que acompanha o cliente, independentemente de o imóvel ser exclusivo ou não e pertencer a outro angariador. Nota : Esta regra aplica-se apenas a Imóveis da Gestão Leiria e Nazaré. Se a Oportunidade estiver desatualizada há mais de um mês, a oportunidade deverá ser direcionada ao angariador do imóvel.", contacto: "2ª a 6ª 09:30-13:00 e 14:00-19:00 Sáb 09:30 - 13:00" },
      { prefix: "AL***LP", loja: "Loja Portimão", responsavel: "Angariador", inactivo: "Francisco Santana", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Loja", equipa: "Loja Portimão", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Loja Portimão;Vitor Silva - Diretor Regional;Service Desk", observacoes: "Caso o cliente esteja ativo no sistema e a Oportunidade tenha sido atualizada há menos de um mês, a nova oportunidade deverá ser atribuída ao mesmo consultor que acompanha o cliente, independentemente de o imóvel ser exclusivo ou não e pertencer a outro angariador. Nota : Esta regra aplica-se apenas a Imóveis da Gestão Tavira e Vila Real de Santo António. Se a Oportunidade estiver desatualizada há mais de um mês, a oportunidade deverá ser direcionada ao angariador do imóvel.", contacto: "2ª a 6ª 09:30-13:00 e 14:30-18.30 Sáb  09.30-13:00" },
      { prefix: "AL***VR", loja: "Loja Vila Real de Sto Antonio", responsavel: "Angariador", inactivo: "Agostinho Gomes", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Loja", equipa: "Loja Vila Real de Sto Antonio", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Loja Vila Real de Sto Antonio;Vitor Silva - Diretor Regional;Service Desk", observacoes: "Caso o cliente esteja ativo no sistema e a Oportunidade tenha sido atualizada há menos de um mês, a nova oportunidade deverá ser atribuída ao mesmo consultor que acompanha o cliente, independentemente de o imóvel ser exclusivo ou não e pertencer a outro angariador. Nota : Imóveis da Gestão Tavira e Vila Real de Santo António considerar apenas uma loja aquando da análise do acompanhamento.  Se a Oportunidade estiver desatualizada há mais de um mês, a oportunidade deverá ser direcionada ao angariador do imóvel.", contacto: "2ª a 6ª  9:30h - 13h e 14:30h – 19:00h Sáb  9:30h - 13h " },
      { prefix: "AL***TV", loja: "Loja Tavira", responsavel: "Angariador", inactivo: "Agostinho Gomes", exclusivo: "Não Aplicável", aberto: "Não Aplicável", nao_atende: "Loja", equipa: "Loja Tavira", editar: "Coordenacao Geral EasyGest;Gestao Carlos Mendes;Loja Tavira;Vitor Silva - Diretor Regional;Service Desk", observacoes: "Caso o cliente esteja ativo no sistema e a Oportunidade tenha sido atualizada há menos de um mês, a nova oportunidade deverá ser atribuída ao mesmo consultor que acompanha o cliente,independentemente de o imóvel ser exclusivo ou não e pertencer a outro angariador. Nota : Imóveis da Gestão Tavira e Vila Real de Santo António considerar apenas uma loja aquando da análise do acompanhamento. Se a Oportunidade estiver desatualizada há mais de um mês, a oportunidade deverá ser direcionada ao angariador do imóvel.", contacto: "2ª a 6ª 09:30-13:00 e 14:30-18.30 Sáb   09.30-13:00" }
    ];

    function normalizar(ref) {
      return ref.toUpperCase().replace(/\s+/g, '');
    }

    function checkReference() {
      const input = normalizar(document.getElementById('ref').value);
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = "";

      if (input.length < 3) return;

      const match = data.find(entry => {
        const prefixParts = entry.prefix.split('***');
        const startsOk = input.startsWith(prefixParts[0]);
        const endsOk = prefixParts[1] ? input.endsWith(prefixParts[1]) : true;
        return startsOk && endsOk;
      });

      if (match) {
        resultDiv.innerHTML = `
          <div class="card">
            <p><span class="label">Loja/Equipa:</span> ${match.loja}</p>
            <p><span class="label">Responsável (atribuir):</span> ${match.responsavel}</p>
            <p><span class="label">Angariador Inactivo:</span> ${match.inactivo}</p>
            <p><span class="label">Imóvel Exclusivo:</span> ${match.exclusivo}</p>
            <p><span class="label">Imóvel Aberto:</span> ${match.aberto}</p>
            <p><span class="label">Angariador Não Atende:</span> ${match.nao_atende}</p>
            <p><span class="label">Equipa (atribuir):</span> ${match.equipa}</p>
            <p><span class="label">Quem pode ver/editar:</span> ${match.editar}</p>
            <p><span class="label">Observações:</span> <span style="color:#b30000; font-weight:bold;">${match.observacoes}</span></p>
            <p><span class="label">Contacto e Horário da Loja:</span> ${match.contacto}</p>
          </div>
        `;
      } else {
        resultDiv.innerHTML = '<p class="error">Referência não encontrada.</p>';
      }
    }
  </script>
</body>
</html>
